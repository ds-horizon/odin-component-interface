cd ../../../../../
mvn clean package
export USER_DATA='{}'
export COMPONENT_METADATA='{"componentMetadata": { "kubeConfigPath": "~/.kube", "name": "aerospike", "envName": "test-aerospike", "credentials": {"username": "user", "password": "pass"} }}'
export DSL_METADATA='{"flavour": "container", "stage":"healthcheck"}'
export PREVIOUS_STATE='{"version":4,"terraform_version":"1.2.8","serial":2,"lineage":"4ced13a1-0bba-7c34-a7f3-14d8859e7fef","outputs":{"ip_address":{"value":"172.17.0.2","type":"string"}},"resources":[{"mode":"managed","type":"docker_container","name":"nginx","provider":"provider[\"registry.terraform.io/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"command":["nginx","-g","daemon off;"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_set":"","cpu_shares":0,"destroy_grace_seconds":null,"devices":[],"dns":null,"dns_opts":null,"dns_search":null,"domainname":"","entrypoint":["/docker-entrypoint.sh"],"env":[],"exit_code":null,"gateway":"172.17.0.1","gpus":null,"group_add":null,"healthcheck":null,"host":[],"hostname":"b519f1da0c23","id":"b519f1da0c2398f313a3dab6c2385988acc1eda4b66882bd082447ec8fc0223d","image":"sha256:23fc29c9268915db1c2d3007ce77cd2d8b499707538b69ea78a2ae860258fac6","init":false,"ip_address":"172.17.0.2","ip_prefix_length":16,"ipc_mode":"private","labels":[],"links":null,"log_driver":"json-file","log_opts":null,"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"nginx-service","network_alias":null,"network_data":[{"gateway":"172.17.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.17.0.2","ip_prefix_length":16,"ipv6_gateway":"","network_name":"bridge"}],"network_mode":"default","networks":null,"networks_advanced":[],"pid_mode":"","ports":[{"external":9000,"internal":80,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"SIGQUIT","stop_timeout":0,"storage_opts":null,"sysctls":null,"tmpfs":null,"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"working_dir":""},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="}]}]}'
cd src/test/groovy/aerospike || exit
groovy -cp ../../../../target/odin-component-interface-1.0.0-SNAPSHOT-jar-with-dependencies.jar component.groovy
